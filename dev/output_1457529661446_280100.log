 
=============================================================
The time and date is 03/09/2016 15:21:01
Execution ID: 1457529661446_280100F
Execution folder is /home/tamirk/dt_executions/1457529661446_280100
Log file is in /home/tamirk/cloudify-cosmo/cloudify-deployment-tool/dev/output_1457529661446_280100.log
=============================================================
set_virtualenv: execution id : 1457529661446_280100
Activating virtualenv 'cfy_3_3_1ga_env'
=============================================================
install_cfy: execution id : 1457529661446_280100
/home/tamirk/cfy_versions_root /home/tamirk/cloudify-cosmo/cloudify-deployment-tool
----------------------------------------------------------
Running installCfy.sh ... 
  Required CFY VERSION      : 3.3.1GA
  CFY_MINOR_VERSION is      : 3.3.1
  PLUGINS_MINOR_VERSION is  : 1.3.1
  CFY_GIT_TAG_BRANCH is     : ga
  PLUGINS_GIT_TAG_BRANCH is : ga
Cloudify 3.3.1 ga version already exists (/home/tamirk/cfy_versions_root/3.3.1/ga). -Moving on.
/home/tamirk/cloudify-cosmo/cloudify-deployment-tool
=============================================================
install_cfy_cloud_provider_plugin: execution id : 1457529661446_280100
Cloud Provider                           : datacentred
Cloud user name                          : undefined
Application name                         : bs
Upload Blueprints ?                      : true
Blueprint suffix                         : _ttt0903
Blueprint file name                      : bosskin_blueprint.yaml
Deploy_Application ?                     : true
CFY_DATA_CENTRED_REGION                  : sal01 ...
CFY_DATA_CENTRED_OS                      : 74ff4015-aee1-4e02-aaa8-1c77b2650394 ...
CFY_DATA_CENTRED_MANAGER_SSH_USER        : undefined ...
CFY_DATA_CENTRED_DATACENTRED_FLAVOR      : undefined ...
CFY_DATA_CENTRED_AGENT_SSH_USER          : undefined ...
CFY_DATA_CENTRED_SERVER_NAME             : server-0203 ...
CFY_DATA_CENTRED_EXTERNAL_NETWORK_NAME   : undefined ...
CFY_DATA_CENTRED_MANAGEMENT_NETWORK_NAME : mngmnt-net-0203 ...
CFY_DATA_CENTRED_MANAGEMENT_SUBNET_NAME  : mngmnt-subnet-0203 ...
CFY_DATA_CENTRED_MANAGEMENT_ROUTER       : mngmnt-router-0203 ...
CFY_DATA_CENTRED_MANAGER_PORT_NAME       : mngr-port-0203 ...
CFY_DATA_CENTRED_MANAGER_SECURITY_GROUP  : mngr-sec-grp-0203 ...
CFY_DATA_CENTRED_AGENT_SECURITY_GROUP    : agent-sec-grp-0203 ...
CFY_DATA_CENTRED_SSH_KEY_FILE_NAME       : ~/.ssh/cloudify-manager-kp-0203.pem ...
CFY_DATA_CENTRED_AGENT_PRIVATE_KEY_PATH  : ~/.ssh/cloudify-agent-kp-0203.pem ...
CFY_DATA_CENTRED_MANAGER_PUBLIC_KEY_NAME : cloudify-manager-public-kp-0203 ...
CFY_DATA_CENTRED_AGENT_PUBLIC_KEY_NAME   : cloudify-agent-public-kp-0203 ...
Existing Manager IP address              : 185.43.218.157
Use existing Manager                     : true
Freeze the manager on failure            : false
manager_blueprint_file                   : /home/tamirk/cfy_versions_root/3.3.1/ga/cloudify-manager-blueprints/openstack-manager-blueprint.yaml
manager_blueprint_inputs_file            : /home/tamirk/cfy_versions_root/3.3.1/ga/cloudify-manager-blueprints/openstack-manager-blueprint-inputs.yaml
=============================================================
pre_bootstrap: execution id : 1457529661446_280100
=============================================================
run_bootstrap: execution id : 1457529661446_280100
/home/tamirk/dt_executions/1457529661446_280100 /home/tamirk/cloudify-cosmo/cloudify-deployment-tool
Cloudify CLI 3.3.1
Cloudify Manager 3.3.1 [ip=185.43.218.157]
Initialization completed successfully
Using an existing Cloudify manager
No Need to bootstrap, running cfy use -t 185.43.218.157
Using management server 185.43.218.157 with port 80
=============================================================
pre_blueprint_upload: execution id : 1457529661446_280100
=============================================================
blueprints_upload: execution id : 1457529661446_280100
Cloning into 'cloudify-deployment-tool-apps'...
Using the repository's master branch
/home/tamirk/dt_executions/1457529661446_280100/cloudify-deployment-tool-apps /home/tamirk/dt_executions/1457529661446_280100 /home/tamirk/cloudify-cosmo/cloudify-deployment-tool
-------------------------------------------------------------
-------------------------------------------------------------
-------------------------------------------------------------
/home/tamirk/dt_executions/1457529661446_280100/cloudify-deployment-tool-apps/bs /home/tamirk/dt_executions/1457529661446_280100/cloudify-deployment-tool-apps /home/tamirk/dt_executions/1457529661446_280100 /home/tamirk/cloudify-cosmo/cloudify-deployment-tool
Uploading bs ...
Validating bosskin_blueprint.yaml
Blueprint validated successfully
Uploading blueprint bosskin_blueprint.yaml to management server 185.43.218.157
An error occurred on the server: 409: blueprint bs_ttt0903 already exists
Done uploading bs
/home/tamirk/dt_executions/1457529661446_280100/cloudify-deployment-tool-apps /home/tamirk/dt_executions/1457529661446_280100 /home/tamirk/cloudify-cosmo/cloudify-deployment-tool
/home/tamirk/dt_executions/1457529661446_280100 /home/tamirk/cloudify-cosmo/cloudify-deployment-tool
-------------------------------------------------------------
=============================================================
pre_deployment_creation: execution id : 1457529661446_280100
=============================================================
populate_node_templates: execution id : 1457529661446_280100
/home/tamirk/dt_executions/1457529661446_280100
/home/tamirk/dt_executions/1457529661446_280100/cloudify-deployment-tool-apps/bs /home/tamirk/dt_executions/1457529661446_280100/cloudify-deployment-tool-apps /home/tamirk/cloudify-cosmo/cloudify-deployment-tool
Populating node templates of the bs application
The blueprint name will be bs_ttt0903
Deployment name is xxx
total 60
-rw-rw-r-- 1 tamirk tamirk 20182 Mar  9 15:21 bosskin_blueprint.yaml
-rw-rw-r-- 1 tamirk tamirk   540 Mar  9 15:21 bosskin_blueprint_inputs.yaml
drwxrwxr-x 2 tamirk tamirk  4096 Mar  9 15:21 config
-rw-rw-r-- 1 tamirk tamirk  4600 Mar  9 15:21 jboss_blueprint.yaml
-rw-rw-r-- 1 tamirk tamirk   180 Mar  9 15:21 jboss_blueprint_inputs.yaml
-rw-rw-r-- 1 tamirk tamirk  5241 Mar  9 15:21 jenkins_blueprint.yaml
-rw-rw-r-- 1 tamirk tamirk   370 Mar  9 15:21 jenkins_blueprint_inputs.yaml
drwxrwxr-x 3 tamirk tamirk  4096 Mar  9 15:21 plugins
drwxrwxr-x 2 tamirk tamirk  4096 Mar  9 15:21 scripts
NODE_TEMPLATE_1_NAME is Jenkins-VM
-------------------------------------------------------------
create_current_node_template_file: execution id : Jenkins-VM
Found the Jenkins-VM in line #139
Total lines 649
The next section is in line 190
From end of next section to the end : tail -n 598
191,328d190
<     type: string
<     default: 'medusa_security_group'
<   amq_vm_image:
<     type: string
<   amq_vm_flavor:
<     type: string
<   amq_agent_user:
<     type: string
<   amq_security_group:
<     type: string
< 
< 
< node_types:
<   JenkinsServer:
<     derived_from: cloudify.nodes.WebServer
<     properties:
<       num_instances:
<         description: Number of instances
<         type: integer
<       jenkins_port:
<         type: integer
<         default: 8080
<       jenkins_user_first_name:
<         default: { get_input: jenkins_user_first_name }
<       jenkins_user_name:
<         default: { get_input: jenkins_user_name }
<       jenkins_user_passw:
<         default: { get_input: jenkins_user_passw }
<       jenkins_to_email:
<         default: { get_input: jenkins_to_email }
<       build_script:
<         default: { get_input: build_script }
< 
<   jenkins_cfy_cli:
<     derived_from: cloudify.nodes.ApplicationModule
<     properties:
<       num_instances:
<         description: Number of instances
<         type: integer
<       build_environments:
<         default: { get_input: build_environments }
<       cfy_managers:
<         default: { get_input: cfy_managers }
< 
<   JBossApplicationServer:
<     derived_from: cloudify.nodes.ApplicationServer
<     properties:
<       JBoss_download_url:
<         type: string
<       java_rpm_url:
<         type: string
<       application_war_url:
<         type: string
<       JBoss_port:
<         type: integer
<         default: 8080
< 
< 
<   Medusa:
<     derived_from: cloudify.nodes.ApplicationServer
<     properties:
<       medusa_item:
<         type: string
<       Medusa_port:
<         type: integer
<         default: 80
< 
< 
<   AMQ:
<     derived_from: cloudify.nodes.SoftwareComponent
<     properties:
<       amq_item:
<         type: string
<       activemq_port:
<         type: integer
<         default: 61616
< 
< 
<   P4S_ITEMS:
<     derived_from: cloudify.nodes.SoftwareComponent
<     properties:
<       p4s_item:
<         type: string
< 
< 
< node_templates:
<   Jenkins-VM:
<     type: cloudify.openstack.nodes.Server
<     instances:
<       deploy: 1
<     properties:
<       cloudify_agent:
<         user: { get_input: jenkins_agent_user }
<       server:
<         image: { get_input: jenkins_vm_image }
<         flavor: { get_input: jenkins_vm_flavor }
<     interfaces:
<       ###########################################################
<       # We are infact telling cloudify to install a diamond
<       # monitoring agent on the server.
<       #
<       # (see https://github.com/BrightcoveOS/Diamond)
<       ###########################################################
<       cloudify.interfaces.monitoring_agent:
<         install:
<           implementation: diamond.diamond_agent.tasks.install
<           inputs:
<             diamond_config:
<               interval: 1
<         start: diamond.diamond_agent.tasks.start
<         stop: diamond.diamond_agent.tasks.stop
<         uninstall: diamond.diamond_agent.tasks.uninstall
<       cloudify.interfaces.monitoring:
<         start:
<           implementation: diamond.diamond_agent.tasks.add_collectors
<           inputs:
<             collectors_config:
<                 CPUCollector: {}
<                 MemoryCollector: {}
<                 LoadAverageCollector: {}
<                 DiskUsageCollector:
<                   config:
<                     devices: x?vd[a-z]+[0-9]*$
<                 NetworkCollector: {}
<     relationships:
<       ###########################################################
<       # Attaching an ip address to the Jenkins-VM
<       ###########################################################
<       - target: Jenkins_ip
<         type: cloudify.openstack.server_connected_to_floating_ip
< 
<       ###########################################################
<       # Attaching the Jenkins_security_group to
<       # the Jenkins-VM
<       ###########################################################
<       - target: Jenkins_security_group
<         type: cloudify.openstack.server_connected_to_security_group
< 
currStatus is 1
pre node template file is pre_Jenkins-VM
node template file is Jenkins-VM
post node template file post_
NODE_TEMPLATE_1_DATACENTRED_FLAVOR is b8e8ab6a-5480-478c-b1de-b09050683d7d
Setting the flavor to b8e8ab6a-5480-478c-b1de-b09050683d7d in Jenkins-VM
NODE_TEMPLATE_1_DATACENTRED_OS is 621f75b6-8d28-47cf-9607-ae73943503b1
Setting the image (os) to 621f75b6-8d28-47cf-9607-ae73943503b1 in Jenkins-VM
NODE_TEMPLATE_1_DATACENTRED_AGENT_USER is centos
Setting the agent ssh user to centos in Jenkins-VM
NODE_TEMPLATE_1_DATACENTRED_MORE_PROPS is unset
Ignoring it ... 
NODE_TEMPLATE_2_NAME is JenkinsApplication
-------------------------------------------------------------
create_current_node_template_file: execution id : JenkinsApplication
Found the JenkinsApplication in line #212
Total lines 649
The next section is in line 227
From end of next section to the end : tail -n 634
228,438d227
<     default: 'jenkins_security_group'
<   jenkins_user_first_name:
<     type: 'string'
<   jenkins_user_name:
<     type: 'string'
<   jenkins_user_passw:
<     type: 'string'
<   jenkins_to_email:
<     type: 'string'
<   build_script:
<     type: 'string'
<   JBoss_download_url:
<     type: string
<     default: 'http://download.jboss.org/jbossas/7.1/jboss-as-7.1.1.Final/jboss-as-7.1.1.Final.zip'
<   java_rpm_url:
<     type: string
<     default: 'http://gigaspaces-repository-eu.s3.amazonaws.com/org/cloudify3/components/jre-7u80-linux-x64.rpm'
<   application_war_url:
<     type: string
<     default: 'http://gigaspaces-repository-eu.s3.amazonaws.com/org/cloudify3/examples/helloworld.war'
<   jboss_vm_image:
<     type: string
<   jboss_vm_flavor:
<     type: string
<   jboss_agent_user:
<     type: string
<   jboss_security_group:
<     type: string
<     default: 'jboss_security_group'
<   medusa_vm_image:
<     type: string
<   medusa_vm_flavor:
<     type: string
<   medusa_agent_user:
<     type: string
<   medusa_security_group:
<     type: string
<     default: 'medusa_security_group'
<   amq_vm_image:
<     type: string
<   amq_vm_flavor:
<     type: string
<   amq_agent_user:
<     type: string
<   amq_security_group:
<     type: string
< 
< 
< node_types:
<   JenkinsServer:
<     derived_from: cloudify.nodes.WebServer
<     properties:
<       num_instances:
<         description: Number of instances
<         type: integer
<       jenkins_port:
<         type: integer
<         default: 8080
<       jenkins_user_first_name:
<         default: { get_input: jenkins_user_first_name }
<       jenkins_user_name:
<         default: { get_input: jenkins_user_name }
<       jenkins_user_passw:
<         default: { get_input: jenkins_user_passw }
<       jenkins_to_email:
<         default: { get_input: jenkins_to_email }
<       build_script:
<         default: { get_input: build_script }
< 
<   jenkins_cfy_cli:
<     derived_from: cloudify.nodes.ApplicationModule
<     properties:
<       num_instances:
<         description: Number of instances
<         type: integer
<       build_environments:
<         default: { get_input: build_environments }
<       cfy_managers:
<         default: { get_input: cfy_managers }
< 
<   JBossApplicationServer:
<     derived_from: cloudify.nodes.ApplicationServer
<     properties:
<       JBoss_download_url:
<         type: string
<       java_rpm_url:
<         type: string
<       application_war_url:
<         type: string
<       JBoss_port:
<         type: integer
<         default: 8080
< 
< 
<   Medusa:
<     derived_from: cloudify.nodes.ApplicationServer
<     properties:
<       medusa_item:
<         type: string
<       Medusa_port:
<         type: integer
<         default: 80
< 
< 
<   AMQ:
<     derived_from: cloudify.nodes.SoftwareComponent
<     properties:
<       amq_item:
<         type: string
<       activemq_port:
<         type: integer
<         default: 61616
< 
< 
<   P4S_ITEMS:
<     derived_from: cloudify.nodes.SoftwareComponent
<     properties:
<       p4s_item:
<         type: string
< 
< 
< node_templates:
<   Jenkins-VM:
<     type: cloudify.openstack.nodes.Server
<     instances:
<       deploy: 1
<     properties:
<       cloudify_agent:
<         user: { get_input: jenkins_agent_user }
<       server:
<         image: { get_input: jenkins_vm_image }
<         flavor: { get_input: jenkins_vm_flavor }
<     interfaces:
<       ###########################################################
<       # We are infact telling cloudify to install a diamond
<       # monitoring agent on the server.
<       #
<       # (see https://github.com/BrightcoveOS/Diamond)
<       ###########################################################
<       cloudify.interfaces.monitoring_agent:
<         install:
<           implementation: diamond.diamond_agent.tasks.install
<           inputs:
<             diamond_config:
<               interval: 1
<         start: diamond.diamond_agent.tasks.start
<         stop: diamond.diamond_agent.tasks.stop
<         uninstall: diamond.diamond_agent.tasks.uninstall
<       cloudify.interfaces.monitoring:
<         start:
<           implementation: diamond.diamond_agent.tasks.add_collectors
<           inputs:
<             collectors_config:
<                 CPUCollector: {}
<                 MemoryCollector: {}
<                 LoadAverageCollector: {}
<                 DiskUsageCollector:
<                   config:
<                     devices: x?vd[a-z]+[0-9]*$
<                 NetworkCollector: {}
<     relationships:
<       ###########################################################
<       # Attaching an ip address to the Jenkins-VM
<       ###########################################################
<       - target: Jenkins_ip
<         type: cloudify.openstack.server_connected_to_floating_ip
< 
<       ###########################################################
<       # Attaching the Jenkins_security_group to
<       # the Jenkins-VM
<       ###########################################################
<       - target: Jenkins_security_group
<         type: cloudify.openstack.server_connected_to_security_group
< 
< 
<   Jenkins_security_group:
<     type: cloudify.openstack.nodes.SecurityGroup
<     properties:
<       security_group:
<         name: { get_input: jenkins_security_group }
<       rules:
<         - remote_ip_prefix: 0.0.0.0/0
<           port: 8080
<         - remote_ip_prefix: 0.0.0.0/0
<           port: 8081
<         - remote_ip_prefix: 0.0.0.0/0
<           port: 22
<         - remote_ip_prefix: 0.0.0.0/0
<           port: 80
< 
< 
<   Jenkins_ip:
<     type: cloudify.openstack.nodes.FloatingIP
< 
< 
<   JenkinsApplication:
<     type: JenkinsServer
<     properties:
<       num_instances: 1      
<     interfaces:
<       cloudify.interfaces.lifecycle:
<         create: scripts/installJenkins.sh
<         configure: scripts/configureJenkins.sh
<         start: scripts/startJenkins.sh
<         stop: scripts/stopJenkins.sh
<         delete: scripts/uninstallJenkins.sh
<       jenkins.interfaces.action:
<         jenkins_cmd: scripts/run-jenkins-cmd.sh
<     relationships:
<       - type: cloudify.relationships.contained_in
<         target: Jenkins-VM
currStatus is 1
pre node template file is pre_JenkinsApplication
node template file is JenkinsApplication
post node template file post_
NODE_TEMPLATE_2_DATACENTRED_FLAVOR is 8f4b7ae1-b8c2-431f-bb0c-362a5ece0381
Setting the flavor to 8f4b7ae1-b8c2-431f-bb0c-362a5ece0381 in JenkinsApplication
NODE_TEMPLATE_2_DATACENTRED_OS is 6c3047c6-17b1-4aaf-a657-9229bb481e50
Setting the image (os) to 6c3047c6-17b1-4aaf-a657-9229bb481e50 in JenkinsApplication
NODE_TEMPLATE_2_DATACENTRED_AGENT_USER is ub14user
Setting the agent ssh user to ub14user in JenkinsApplication
NODE_TEMPLATE_2_DATACENTRED_MORE_PROPS is unset
Ignoring it ... 
/home/tamirk/dt_executions/1457529661446_280100/cloudify-deployment-tool-apps /home/tamirk/cloudify-cosmo/cloudify-deployment-tool
=============================================================
create_deployment: execution id : 1457529661446_280100
=============================================================
pre_installation: execution id : 1457529661446_280100
=============================================================
post_installation: execution id : 1457529661446_280100
=============================================================
Deactivating virtualenv 'cfy_3_3_1ga_env'
